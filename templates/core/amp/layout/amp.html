<!doctype html>
<html amp class="no-js" lang="{{ locale_name }}">

<head>
<meta charset="utf-8">
<script async src="https://cdn.ampproject.org/v0.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
<title>{{ chop head.title }}</title>
{{{ head.meta_tags }}}
{{{ head.config }}}
{{#block 'head'}} {{/block}}
<link href="{{ head.favicon }}" rel="shortcut icon">
<link href="https://fonts.googleapis.com/css?family=Karla:400|Roboto:400" rel="stylesheet">
{{#block 'amp-style'}} {{/block}}
{{{head.rsslinks}}}
{{inject 'themeSettings' theme_settings}}
{{inject 'genericError' (lang 'common.generic_error')}}
{{inject 'maintenanceMode' settings.maintenance}}
{{inject 'urls' urls}}
{{{snippet 'htmlhead'}}}
<script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
<script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
<script async custom-element="amp-accordion" src="https://cdn.ampproject.org/v0/amp-accordion-0.1.js"></script>
{{#if settings.amp_analytics_id}}
  <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
{{/if}}
{{#block 'amp-scripts'}}{{/block}}

 <!-- SEARCHSPRING SCRIPT -->
 {{#if category}}
 <script async custom-element="amp-script" src="//cdn.searchspring.net/search/v3/js/searchspring.catalog.js?sm8dxk" search="search_query" category="{{#each breadcrumbs}}{{#unless @first}}{{name}}{{#unless @last}}>{{/unless}}{{/unless}}{{/each}}" name="{{ category.name }}"></script>
 {{else if brand}}
 <script async custom-element="amp-script" src="//cdn.searchspring.net/search/v3/js/searchspring.catalog.js?sm8dxk" search="search_query" brand="{{ brand.name }}"></script>
 {{else}}
 <script async custom-element="amp-script" src="//cdn.searchspring.net/search/v3/js/searchspring.catalog.js?sm8dxk" search="search_query"{{#if page.title "!=" 'Search Results'}} defer{{/if}}></script>
 {{/if}}
 <script async custom-element="amp-script" src="//cdn.searchspring.net/intellisuggest/is.min.js"></script>
   
 {{{head.scripts}}}
 {{inject 'themeImageSizes' theme_settings._images}}
 {{> components/common/global-injects}}
 {{{snippet 'html_head'}}}
 {{> core/structured-data/website}}
</head>

<body class="{{> components/common/body-classes}}">
    <div class="site-wrapper">

      <div class="site-canvas">
          <div class="on-canvas">
            <main class="main-content">
              {{#block 'page'}} {{/block}}
            </main>
          </div>

          {{> components/header/customizations/navigation-mobile}}
        </div>

    </div>
    
<div class="icons-svg-sprite">{{> components/common/icons/icon-defs}}</div>

<script async custom-element="amp-script" src="{{cdn '/assets/js/bundle.js'}}"></script>
	
	<script async custom-element="amp-script">
		window.stencilBootstrap("{{template_file}}", {{ jsContext }}).load();
  </script>
  
  {{{footer.scripts}}}

	{{#if page_type '===' 'product'}}	
	<script async custom-element="amp-script">
		document.addEventListener('DOMContentLoaded', function(){

			// tool tip start
			window.TEAK.Modules.toolTip.init({
				type: "brand",
				name: "{{product.brand.name}}"
			});

			// IntelliSuggest tracking
			try{
				var productCode = "{{product.sku}}";

				IntelliSuggest.init({
					siteId: TEAK.thirdParty.IntelliSuggest.siteId,
					context: 'Product/' + productCode,
					seed: [productCode]
				});

				IntelliSuggest.viewItem({
					sku: productCode
				});
			} catch(err) {}
		});

		// search spring filtering fix
		(function(window){
			var oldHistoryReplaceState = window.History.replaceState;

			window.History.replaceState = function(a, b, url, c) {
				if(!url.match(/(#|\/)(dev:|filter:|sort:|page:|perpage:|list|grid)/)) {
					oldHistoryReplaceState(a, b, url, c);
				}
			}
		}(window));
	</script>
	{{/if}}

</body>
</html>

