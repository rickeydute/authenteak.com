<!DOCTYPE html>
<html class="no-js" lang="{{ locale_name }}" base-html>

<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>{{head.title}}</title>
{{{ head.meta_tags }}}
{{{ head.config }}}
{{#block "head"}} {{/block}}
<link href="{{ head.favicon }}" rel="shortcut icon">
{{{head.rsslinks}}}
{{{stylesheet '/assets/css/theme.css'}}}
{{ getFontsCollection }}

 <!-- SEARCHSPRING SCRIPT -->
{{#if category}}
<script src="//cdn.searchspring.net/search/v3/js/searchspring.catalog.js?sm8dxk" search="search_query" category="{{#each breadcrumbs}}{{#unless @first}}{{name}}{{#unless @last}}>{{/unless}}{{/unless}}{{/each}}" name="{{ category.name }}"></script>
{{else if brand}}
<script src="//cdn.searchspring.net/search/v3/js/searchspring.catalog.js?sm8dxk" search="search_query" brand="{{ brand.name }}"></script>
{{else}}
<script src="//cdn.searchspring.net/search/v3/js/searchspring.catalog.js?sm8dxk" search="search_query"{{#if page.title "!=" 'Search Results'}} defer{{/if}}></script>
{{/if}}
<script src="//cdn.searchspring.net/intellisuggest/is.min.js"></script>
<script src="{{cdn '/assets/js/modernizr.js'}}"></script>

<!-- <script>window.History = { options: { delayInit: true } }</script> -->

{{{head.scripts}}}
{{inject 'themeImageSizes' theme_settings._images}}
{{> components/common/global-injects}}
{{{snippet 'html_head'}}}
{{> core/structured-data/website}}

{{> components/header/customizations/facebook-pixel}}
{{> components/header/customizations/pintrest-ad}}
</head>

<body class="{{> components/common/body-classes}}">

	<div class="site-wrapper">
		{{{snippet 'header'}}}

		{{> components/header/header}}
		<div class="site-canvas">
			<div class="on-canvas">
				{{#contains page_type 'account'}}
					{{> components/common/breadcrumbs breadcrumbs}}
				{{/contains}}

				{{#contains page_type 'login'}}
					{{> components/common/breadcrumbs breadcrumbs}}
				{{/contains}}

				{{> components/common/banners banners=banners.top class='banners-top'}}

				<main class="main-content">
					{{#block "page"}}{{/block}}
				</main>

				
				{{> components/common/banners banners=banners.bottom class='banners-bottom'}}

				{{#if settings.show_newsletter_box}}
				{{> components/common/newsletter-signup}}
				{{/if}}

				{{> components/footer/footer }}
			</div>

			{{> components/header/customizations/navigation-mobile}}
		</div> <!-- /site-canvas -->

		{{> components/mini-cart/mini-cart cart_icon=theme_settings.cart_icon }}
		{{> components/common/search-panel}}
		<button class="button-top" data-scroll="#">
			<svg class="icon icon-arrow-up">
				<use xlink:href="#icon-arrow-up" /></svg>
		</button>

		{{> components/common/login-modal}}
	</div> <!-- /site-wrapper -->

	{{> core/structured-data/breadcrumbs}}

	{{{snippet 'footer'}}}

	<div class="icons-svg-sprite">{{> components/common/icons/icon-defs}}</div>

	<script src="{{cdn '/assets/js/bundle.js'}}"></script>
	
	{{#if page_type '===' 'product'}}
		{{> components/common/facebook-like}}
	{{else if page_type '===' 'blog'}}
		{{> components/common/facebook-like}}
	{{else if page_type '===' 'blog_post'}}
		{{> components/common/facebook-like}}
	{{/if}}

	<script>
		window.stencilBootstrap("{{template_file}}", {{ jsContext }}).load();
		_affirm_config = { public_api_key: "RPBIJDV9I1IHTVL3", script: "https://cdn1.affirm.com/js/v2/affirm.js", session_id: "sID"};
		(function (l, g, m, e, a, f, b) { var d, c = l[m] || {}, h = document.createElement(f), n = document.getElementsByTagName(f)[0], k = function (a, b, c) { return function () { a[b]._.push([c, arguments]) } }; c[e] = k(c, e, "set"); d = c[e]; c[a] = {}; c[a]._ = []; d._ = []; c[a][b] = k(c, a, b); a = 0; for (b = "set add save post open empty reset on off trigger ready setProduct".split(" "); a < b.length; a++)d[b[a]] = k(c, e, b[a]); a = 0; for (b = ["get", "token", "url", "items"]; a < b.length; a++)d[b[a]] = function () { }; h.async = !0; h.src = g[f]; n.parentNode.insertBefore(h, n); delete g[f]; d(g); l[m] = c })(window, _affirm_config, "affirm", "checkout", "ui", "script", "ready");
	</script>

	{{{footer.scripts}}}


	{{#if customer}} {{!-- used for analitics unique tracking ---}}
	<script>
		window.TEAK.thirdParty.heap.init({
		  method: 'identify',
		  id: '{{customer.id}}'
		});

		if(window.localStorage){ 
			window.localStorage.setItem("TEAK_customerUID", '{{customer.id}}.authenteak.com');
		}
	</script>
	{{/if}}

	
	{{#if page_type '===' 'product'}}	
	<script>
		document.addEventListener('DOMContentLoaded', function(){

			// tool tip start
			window.TEAK.Modules.toolTip.init({
				type: "brand",
				name: "{{product.brand.name}}"
			});

			// IntelliSuggest tracking
			try{
				var productCode = "{{product.sku}}";

				IntelliSuggest.init({
					siteId: TEAK.thirdParty.IntelliSuggest.siteId,
					context: 'Product/' + productCode,
					seed: [productCode]
				});

				IntelliSuggest.viewItem({
					sku: productCode
				});
			} catch(err) {}
		});

		// search spring filtering fix
		(function(window){
			var oldHistoryReplaceState = window.History.replaceState;

			window.History.replaceState = function(a, b, url, c) {
				if(!url.match(/(#|\/)(dev:|filter:|sort:|page:|perpage:|list|grid)/)) {
					oldHistoryReplaceState(a, b, url, c);
				}
			}
		}(window));
	</script>
	{{/if}}
</body>
</html>
